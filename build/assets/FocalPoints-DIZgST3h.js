import{r as o,j as e}from"./index-DKFEh9ub.js";import{P as D,a as F}from"./plus-Dx-m4g97.js";import{S as E}from"./search-CWjXLGou.js";import{T as M}from"./trash-2-Cec5oUEd.js";import{M as q}from"./mail-BGp9wR0N.js";import{P as A}from"./phone-DAl9iq8t.js";import{X as L}from"./x-BGBquCnM.js";function X({focalPoints:t,setFocalPoints:m,isDarkMode:T}){const[N,u]=o.useState(!1),[d,g]=o.useState(null),[l,p]=o.useState(""),[i,b]=o.useState("all"),[c,j]=o.useState("all"),[r,n]=o.useState({name:"",sector:"",department:"",email:"",phoneNumber:""}),y=Array.from(new Set(t.map(s=>s.sector))),v=Array.from(new Set(t.map(s=>s.department))),f=s=>{if(s.preventDefault(),d)m(t.map(a=>a.id===d.id?{...a,...r}:a));else{const a={id:Date.now().toString(),...r};m([...t,a])}x()},x=()=>{n({name:"",sector:"",department:"",email:"",phoneNumber:""}),g(null),u(!1)},w=s=>{g(s),n({name:s.name,sector:s.sector,department:s.department,email:s.email,phoneNumber:s.phoneNumber}),u(!0)},S=s=>{confirm("Are you sure you want to delete this focal point?")&&m(t.filter(a=>a.id!==s))},h=t.filter(s=>{const a=l===""||s.name.toLowerCase().includes(l.toLowerCase())||s.email.toLowerCase().includes(l.toLowerCase())||s.phoneNumber.includes(l),C=i==="all"||s.sector===i,k=c==="all"||s.department===c;return a&&C&&k});return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Focal Points"}),e.jsx("p",{className:"text-gray-600",children:"Manage contact information for focal points across sectors and departments"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(D,{className:"w-5 h-5"}),"New Focal Point"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:l,onChange:s=>p(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:i,onChange:s=>b(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Sectors"}),y.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:c,onChange:s=>j(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Departments"}),v.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),(l||i!=="all"||c!=="all")&&e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{p(""),b("all"),j("all")},className:"text-blue-600 hover:text-blue-700 text-sm",children:"Clear all filters"}),e.jsxs("span",{className:"text-gray-600 text-sm",children:["Showing ",h.length," of ",t.length," focal points"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(s=>e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-gray-900 mb-1",children:s.name}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm text-gray-600",children:e.jsx("span",{className:"inline-block px-2 py-1 bg-blue-50 text-blue-700 rounded",children:s.sector})}),e.jsx("div",{className:"text-sm text-gray-600",children:e.jsx("span",{className:"inline-block px-2 py-1 bg-purple-50 text-purple-700 rounded",children:s.department})})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>w(s),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:e.jsx(F,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>S(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:e.jsx(M,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2 border-t border-gray-200 pt-4",children:[e.jsxs("a",{href:`mailto:${s.email}`,className:"flex items-center gap-2 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:s.email})]}),e.jsxs("a",{href:`tel:${s.phoneNumber}`,className:"flex items-center gap-2 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:s.phoneNumber})]})]})]},s.id))}),h.length===0&&e.jsx("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-600",children:l||i!=="all"||c!=="all"?"No focal points found matching the current filters.":'No focal points added yet. Click "New Focal Point" to get started.'})}),N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-gray-900",children:d?"Edit Focal Point":"New Focal Point"}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(L,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:f,className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",required:!0,value:r.name,onChange:s=>n({...r,name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John Doe"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Sector"}),e.jsx("input",{type:"text",required:!0,value:r.sector,onChange:s=>n({...r,sector:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"IT"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Department"}),e.jsx("input",{type:"text",required:!0,value:r.department,onChange:s=>n({...r,department:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Development"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",required:!0,value:r.email,onChange:s=>n({...r,email:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"john.doe@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",required:!0,value:r.phoneNumber,onChange:s=>n({...r,phoneNumber:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123-456-7890"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:d?"Update Focal Point":"Create Focal Point"}),e.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})]})}export{X as FocalPoints};
