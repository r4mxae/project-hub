import{c as X,r as n,j as e}from"./index-DKFEh9ub.js";import{u as W,w as ce}from"./xlsx-DSqvgYLF.js";import{C as ue}from"./clock-CY5c905-.js";import{P as O,a as z}from"./plus-Dx-m4g97.js";import{F as R}from"./file-text-CU7t48Mk.js";import{D as H}from"./download-BRujMa5i.js";import{T as V}from"./trash-2-Cec5oUEd.js";import{X as F}from"./x-BGBquCnM.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],me=X("circle-stop",ge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],B=X("play",xe);function ke({projects:d,setProjects:p,tasks:x,setTasks:j,isDarkMode:g}){const[G,w]=n.useState(!1),[J,S]=n.useState(!1),[K,f]=n.useState(!1),[he,be]=n.useState(!1),[v,U]=n.useState(null),[N,A]=n.useState(null),[i,$]=n.useState(null),[k,D]=n.useState(0),[m,C]=n.useState({logUpdate:"",upcomingAction:""}),[y,T]=n.useState(null),[r,o]=n.useState({name:"",description:"",status:"planning",startDate:"",endDate:"",budget:"",spent:"",prNumber:"",negotiationNumber:"",sector:"",department:"",expectedSubmissionDate:""}),[l,c]=n.useState({title:"",description:"",projectId:"",status:"todo",priority:"medium",assignee:"",dueDate:""});n.useEffect(()=>{let t=null;return i&&(t=setInterval(()=>{D(s=>s+1)},1e3)),()=>{t&&clearInterval(t)}},[i]);const h=t=>{const s=Math.floor(t/3600),a=Math.floor(t%3600/60),b=t%60;return`${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`},E=(t,s)=>{$({type:t,item:s}),D(0),t==="project"?p(d.map(a=>a.id===s.id?{...a,isWorkInProgress:!0,currentWorkStartTime:new Date().toISOString()}:a)):j(x.map(a=>a.id===s.id?{...a,isWorkInProgress:!0,currentWorkStartTime:new Date().toISOString()}:a))},Q=()=>{f(!0)},Y=()=>{if(!m.logUpdate.trim()){alert("Log update cannot be empty. The log will not be added."),f(!1),L();return}if(!i)return;const t={id:Date.now().toString(),startTime:i.item.currentWorkStartTime||new Date().toISOString(),endTime:new Date().toISOString(),duration:k,logUpdate:m.logUpdate,upcomingAction:m.upcomingAction,date:new Date().toISOString().split("T")[0]};i.type==="project"?p(d.map(s=>s.id===i.item.id?{...s,workLogs:[...s.workLogs,t],isWorkInProgress:!1,currentWorkStartTime:void 0}:s)):j(x.map(s=>s.id===i.item.id?{...s,workLogs:[...s.workLogs,t],isWorkInProgress:!1,currentWorkStartTime:void 0}:s)),f(!1),L()},L=()=>{$(null),D(0),C({logUpdate:"",upcomingAction:""})},q=(t,s)=>{const a=s.workLogs,b=a.map(u=>({"Project/Task Name":s.name||s.title,Description:s.description,Date:u.date,"Start Time":new Date(u.startTime).toLocaleString(),"End Time":new Date(u.endTime).toLocaleString(),"Duration (Hours)":(u.duration/3600).toFixed(2),"Log Update":u.logUpdate,"Upcoming Action":u.upcomingAction})),oe=a.reduce((u,de)=>u+de.duration,0);b.push({"Project/Task Name":"TOTAL",Description:"",Date:"","Start Time":"","End Time":"","Duration (Hours)":(oe/3600).toFixed(2),"Log Update":"","Upcoming Action":""});const ne=W.json_to_sheet(b),M=W.book_new();W.book_append_sheet(M,ne,"Work Logs");const ie=`${s.name||s.title}_WorkLogs_${new Date().toISOString().split("T")[0]}.xlsx`;ce(M,ie)},Z=t=>{if(t.preventDefault(),v)p(d.map(s=>s.id===v.id?{...s,...r,budget:parseFloat(r.budget),spent:parseFloat(r.spent),progress:Math.min(100,Math.round(parseFloat(r.spent)/parseFloat(r.budget)*100))}:s));else{const s={id:Date.now().toString(),...r,budget:parseFloat(r.budget),spent:parseFloat(r.spent),progress:Math.min(100,Math.round(parseFloat(r.spent)/parseFloat(r.budget)*100)),workLogs:[],isWorkInProgress:!1,isSubmitted:!1};p([...d,s])}P()},P=()=>{o({name:"",description:"",status:"planning",startDate:"",endDate:"",budget:"",spent:"",prNumber:"",negotiationNumber:"",sector:"",department:"",expectedSubmissionDate:""}),U(null),w(!1)},ee=t=>{U(t),o({name:t.name,description:t.description,status:t.status,startDate:t.startDate,endDate:t.endDate,budget:t.budget.toString(),spent:t.spent.toString(),prNumber:t.prNumber,negotiationNumber:t.negotiationNumber,sector:t.sector,department:t.department,expectedSubmissionDate:t.expectedSubmissionDate}),w(!0)},te=t=>{confirm("Are you sure you want to delete this project?")&&p(d.filter(s=>s.id!==t))},se=t=>{t.preventDefault();const s=d.find(a=>a.id===l.projectId);if(N)j(x.map(a=>a.id===N.id?{...a,...l,projectName:s?.name||""}:a));else{const a={id:Date.now().toString(),...l,projectName:s?.name||"",createdDate:new Date().toISOString().split("T")[0],workLogs:[],isWorkInProgress:!1};j([...x,a])}I()},I=()=>{c({title:"",description:"",projectId:"",status:"todo",priority:"medium",assignee:"",dueDate:""}),A(null),S(!1)},re=t=>{A(t),c({title:t.title,description:t.description,projectId:t.projectId,status:t.status,priority:t.priority,assignee:t.assignee,dueDate:t.dueDate}),S(!0)},ae=t=>{confirm("Are you sure you want to delete this task?")&&j(x.filter(s=>s.id!==t))},_={planning:"bg-blue-100 text-blue-700","in-progress":"bg-green-100 text-green-700","on-hold":"bg-orange-100 text-orange-700",completed:"bg-purple-100 text-purple-700",todo:"bg-gray-100 text-gray-700",review:"bg-purple-100 text-purple-700"},le={low:"bg-green-100 text-green-700",medium:"bg-blue-100 text-blue-700",high:"bg-orange-100 text-orange-700",urgent:"bg-red-100 text-red-700"};return e.jsxs("div",{className:`p-8 h-full overflow-auto ${g?"bg-gray-900":""}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`mb-2 ${g?"text-gray-100":"text-gray-900"}`,children:"Projects & Tasks"}),e.jsx("p",{className:g?"text-gray-400":"text-gray-600",children:"Manage your projects and tasks with time tracking"})]}),i&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-blue-500 to-cyan-500 text-white p-6 rounded-2xl mb-6 flex items-center justify-between shadow-2xl shadow-blue-500/30 border border-blue-400/30 animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(ue,{className:"w-6 h-6 animate-spin",style:{animationDuration:"3s"}})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm opacity-90 font-medium",children:"Working on:"}),e.jsx("div",{className:"text-xl font-bold",children:i.item.name||i.item.title})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-4xl font-mono font-bold tracking-wider",children:h(k)}),e.jsxs("button",{onClick:Q,className:"flex items-center gap-2 px-6 py-3 bg-white text-blue-600 rounded-xl hover:bg-gray-100 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium",children:[e.jsx(me,{className:"w-5 h-5"}),"Stop"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:`font-bold ${g?"text-gray-100":"text-gray-900"}`,children:"Projects"}),e.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-xl hover:from-blue-700 hover:to-blue-600 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium",children:[e.jsx(O,{className:"w-5 h-5"}),"New Project"]})]}),e.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto",children:d.filter(t=>t.status!=="completed").length===0?e.jsx("div",{className:"bg-white p-8 rounded-lg border border-gray-200 text-center",children:e.jsx("p",{className:"text-gray-600",children:"No active projects. Completed projects are in the Completed tab."})}):d.filter(t=>t.status!=="completed").map(t=>e.jsxs("div",{className:`group p-5 rounded-xl border transition-all duration-300 hover:scale-102 hover:-translate-y-1 ${g?"bg-gradient-to-br from-gray-800 to-gray-800/50 border-gray-700 hover:border-blue-500/50 shadow-lg hover:shadow-blue-500/20":"bg-white border-gray-200 hover:border-blue-400/50 shadow-md hover:shadow-xl hover:shadow-blue-500/10"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-gray-900",children:t.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs capitalize ${_[t.status]}`,children:t.status.replace("-"," ")})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:t.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600",children:[t.prNumber&&e.jsxs("div",{children:["PR: ",t.prNumber]}),t.negotiationNumber&&e.jsxs("div",{children:["Neg: ",t.negotiationNumber]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[!t.isWorkInProgress&&!i&&e.jsx("button",{onClick:()=>E("project",t),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Start Work",children:e.jsx(B,{className:"w-4 h-4"})}),t.workLogs.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>T({type:"project",item:t}),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Logs",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>q("project",t),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Export Logs",children:e.jsx(H,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>ee(t),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>te(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(V,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Progress"}),e.jsxs("span",{className:"text-gray-900",children:[t.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all",style:{width:`${t.progress}%`}})})]}),t.workLogs.length>0&&e.jsxs("div",{className:"text-xs text-gray-600",children:["Total Time: ",h(t.workLogs.reduce((s,a)=>s+a.duration,0))]})]},t.id))})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:`font-bold ${g?"text-gray-100":"text-gray-900"}`,children:"Tasks"}),e.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-green-600 to-emerald-500 text-white rounded-xl hover:from-green-700 hover:to-emerald-600 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium",children:[e.jsx(O,{className:"w-5 h-5"}),"New Task"]})]}),e.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto",children:x.map(t=>{const s=new Date(t.dueDate)<new Date&&t.status!=="completed";return e.jsxs("div",{className:`group p-5 rounded-xl border transition-all duration-300 hover:scale-102 hover:-translate-y-1 ${g?"bg-gradient-to-br from-gray-800 to-gray-800/50 border-gray-700 hover:border-green-500/50 shadow-lg hover:shadow-green-500/20":"bg-white border-gray-200 hover:border-green-400/50 shadow-md hover:shadow-xl hover:shadow-green-500/10"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx("h3",{className:"text-gray-900",children:t.title}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs capitalize ${_[t.status]}`,children:t.status.replace("-"," ")}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs capitalize ${le[t.priority]}`,children:t.priority})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-1",children:t.description}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Project: ",t.projectName," | Due: ",e.jsx("span",{className:s?"text-red-600":"",children:new Date(t.dueDate).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex gap-1",children:[!t.isWorkInProgress&&!i&&e.jsx("button",{onClick:()=>E("task",t),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Start Work",children:e.jsx(B,{className:"w-4 h-4"})}),t.workLogs.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>T({type:"task",item:t}),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Logs",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>q("task",t),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Export Logs",children:e.jsx(H,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>re(t),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ae(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(V,{className:"w-4 h-4"})})]})]}),t.workLogs.length>0&&e.jsxs("div",{className:"text-xs text-gray-600",children:["Total Time: ",h(t.workLogs.reduce((a,b)=>a+b.duration,0))]})]},t.id)})})]})]}),G&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-gray-900",children:v?"Edit Project":"New Project"}),e.jsx("button",{onClick:P,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(F,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Z,className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Project Name"}),e.jsx("input",{type:"text",required:!0,value:r.name,onChange:t=>o({...r,name:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{required:!0,value:r.description,onChange:t=>o({...r,description:t.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"PR Number"}),e.jsx("input",{type:"text",value:r.prNumber,onChange:t=>o({...r,prNumber:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Negotiation Number"}),e.jsx("input",{type:"text",value:r.negotiationNumber,onChange:t=>o({...r,negotiationNumber:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:r.status,onChange:t=>o({...r,status:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"planning",children:"Planning"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"on-hold",children:"On Hold"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",required:!0,value:r.startDate,onChange:t=>o({...r,startDate:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",required:!0,value:r.endDate,onChange:t=>o({...r,endDate:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Budget ($)"}),e.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:r.budget,onChange:t=>o({...r,budget:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Spent ($)"}),e.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:r.spent,onChange:t=>o({...r,spent:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Sector"}),e.jsx("input",{type:"text",value:r.sector,onChange:t=>o({...r,sector:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Department"}),e.jsx("input",{type:"text",value:r.department,onChange:t=>o({...r,department:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Expected Submission Date"}),e.jsx("input",{type:"date",value:r.expectedSubmissionDate,onChange:t=>o({...r,expectedSubmissionDate:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:v?"Update Project":"Create Project"}),e.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})}),J&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-gray-900",children:N?"Edit Task":"New Task"}),e.jsx("button",{onClick:I,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(F,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:se,className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Task Title"}),e.jsx("input",{type:"text",required:!0,value:l.title,onChange:t=>c({...l,title:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{required:!0,value:l.description,onChange:t=>c({...l,description:t.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Project"}),e.jsxs("select",{required:!0,value:l.projectId,onChange:t=>c({...l,projectId:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select a project"}),d.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:l.status,onChange:t=>c({...l,status:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"todo",children:"To Do"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"review",children:"Review"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Priority"}),e.jsxs("select",{value:l.priority,onChange:t=>c({...l,priority:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"medium",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Assignee"}),e.jsx("input",{type:"text",required:!0,value:l.assignee,onChange:t=>c({...l,assignee:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Due Date"}),e.jsx("input",{type:"date",required:!0,value:l.dueDate,onChange:t=>c({...l,dueDate:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:N?"Update Task":"Create Task"}),e.jsx("button",{type:"button",onClick:I,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})}),K&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-gray-900",children:"Work Session Complete"}),e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Time spent: ",h(k)]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Log Update *"}),e.jsx("textarea",{value:m.logUpdate,onChange:t=>C({...m,logUpdate:t.target.value}),rows:4,placeholder:"What did you accomplish?",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Required - Log will not be saved if empty"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Upcoming Action"}),e.jsx("textarea",{value:m.upcomingAction,onChange:t=>C({...m,upcomingAction:t.target.value}),rows:2,placeholder:"What's next?",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:Y,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Log"}),e.jsx("button",{type:"button",onClick:()=>{f(!1),L()},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("h2",{className:"text-gray-900",children:["Work Logs - ",y.item.name||y.item.title]}),e.jsx("button",{onClick:()=>T(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(F,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-4",children:y.item.workLogs.map((t,s)=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Session #",s+1," - ",t.date]}),e.jsxs("div",{className:"text-sm text-gray-900",children:["Duration: ",h(t.duration)]})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[new Date(t.startTime).toLocaleTimeString()," - ",new Date(t.endTime).toLocaleTimeString()]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-sm text-gray-700 mb-1",children:"Update:"}),e.jsx("div",{className:"text-gray-900",children:t.logUpdate})]}),t.upcomingAction&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-700 mb-1",children:"Upcoming Action:"}),e.jsx("div",{className:"text-gray-900",children:t.upcomingAction})]})]},t.id))}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-gray-700 mb-1",children:"Total Time Spent"}),e.jsx("div",{className:"text-blue-600 text-2xl",children:h(y.item.workLogs.reduce((t,s)=>t+s.duration,0))})]})]})]})})]})}export{ke as ProjectsAndTasks};
