import{c as O,r as _,j as e,F as q,S as U}from"./index-DKFEh9ub.js";import{X}from"./x-BGBquCnM.js";import{C as B,R as f,P as F,a as L,b as R,T as v,B as Y,c as G,X as Q,Y as I,L as J,d as E}from"./PieChart-CYPu7LD0.js";import{S as K}from"./square-check-big-Cnst16J9.js";import{T as V}from"./trending-up-DmgRtSIF.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],z=O("bell",W);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],k=O("sparkles",Z);function se({projects:s,tasks:o,procurementItems:c,isDarkMode:r}){const[w,j]=_.useState(!1),n=s.reduce((t,l)=>t+l.budget,0),i=s.reduce((t,l)=>t+l.spent,0),N=s.filter(t=>t.status==="in-progress").length,H=s.filter(t=>t.status==="completed").length,$=o.filter(t=>t.status!=="completed").length,S=o.filter(t=>new Date(t.dueDate)<new Date&&t.status!=="completed").length,C=c.filter(t=>!t.isSubmitted).length,b=(()=>{const t=[],l=new Date;l.setHours(0,0,0,0);const h=new Date(l);h.setDate(h.getDate()+3),s.forEach(a=>{if(a.status!=="completed"&&!a.isSubmitted&&a.endDate&&typeof a.endDate=="string"){const[d,y,p]=a.endDate.split("-").map(Number),g=new Date(p,y-1,d);g<l?t.push({type:"error",title:"Overdue Project",message:`${a.name} - End date: ${a.endDate}`,priority:1}):g<=h&&t.push({type:"warning",title:"Project Due Soon",message:`${a.name} - Due: ${a.endDate}`,priority:2})}}),o.forEach(a=>{if(a.status!=="completed"&&a.dueDate&&typeof a.dueDate=="string"){const[d,y,p]=a.dueDate.split("-").map(Number),g=new Date(p,y-1,d);g<l?t.push({type:"error",title:"Overdue Task",message:`${a.title} - Due: ${a.dueDate}`,priority:a.priority==="urgent"?1:2}):g<=h&&t.push({type:"warning",title:"Task Due Soon",message:`${a.title} - Due: ${a.dueDate}`,priority:3})}});const T=s.filter(a=>a.status==="completed"&&!a.isSubmitted);T.length>0&&t.push({type:"info",title:"Projects Ready for Submission",message:`${T.length} completed project(s) need to be submitted`,priority:3}),s.forEach(a=>{if(a.status!=="completed"&&a.budget>0){const d=a.spent/a.budget*100;d>=90&&t.push({type:"warning",title:"Budget Alert",message:`${a.name} - ${d.toFixed(0)}% budget used`,priority:2})}});const A=o.filter(a=>a.priority==="urgent"&&a.status!=="completed");return A.length>0&&t.push({type:"error",title:"Urgent Tasks",message:`${A.length} urgent task(s) require attention`,priority:1}),t.sort((a,d)=>a.priority-d.priority)})(),x=b.length,m=[{name:"Planning",value:s.filter(t=>t.status==="planning").length,color:"#3b82f6"},{name:"In Progress",value:s.filter(t=>t.status==="in-progress").length,color:"#10b981"},{name:"On Hold",value:s.filter(t=>t.status==="on-hold").length,color:"#f59e0b"},{name:"Completed",value:s.filter(t=>t.status==="completed").length,color:"#6366f1"}].filter(t=>t.value>0),P=s.map(t=>({name:t.name.length>20?t.name.substring(0,20)+"...":t.name,budget:t.budget,spent:t.spent})),u=[{name:"Low",value:o.filter(t=>t.priority==="low"&&t.status!=="completed").length,color:"#10b981"},{name:"Medium",value:o.filter(t=>t.priority==="medium"&&t.status!=="completed").length,color:"#3b82f6"},{name:"High",value:o.filter(t=>t.priority==="high"&&t.status!=="completed").length,color:"#f59e0b"},{name:"Urgent",value:o.filter(t=>t.priority==="urgent"&&t.status!=="completed").length,color:"#ef4444"}].filter(t=>t.value>0);return e.jsxs("div",{className:`p-8 min-h-screen ${r?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900":"bg-gradient-to-br from-gray-50 via-white to-gray-50"}`,children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(k,{className:`w-8 h-8 ${r?"text-blue-400":"text-blue-600"}`}),e.jsx("h1",{className:`${r?"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-400":"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-cyan-600"}`,children:"Dashboard"})]}),e.jsx("p",{className:r?"text-gray-400":"text-gray-600",children:"Overview of all projects, tasks, and procurement activities"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>j(!w),className:`relative p-3 rounded-xl transition-all duration-200 ${x>0?"bg-gradient-to-r from-red-600 to-red-500 text-white shadow-lg shadow-red-500/30 animate-pulse hover:from-red-700 hover:to-red-600":r?"bg-gray-800 text-gray-400 hover:bg-gray-700 border border-gray-700":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200 shadow-md"}`,children:[e.jsx(z,{className:"w-6 h-6"}),x>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-white text-red-600 rounded-full text-xs flex items-center justify-center font-bold shadow-lg",children:x})]}),w&&e.jsxs("div",{className:`absolute right-0 top-full mt-2 w-96 max-h-[500px] overflow-y-auto rounded-xl border shadow-2xl z-50 ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:`p-4 border-b sticky top-0 z-10 ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:`flex items-center gap-2 ${r?"text-gray-100":"text-gray-900"}`,children:[e.jsx(z,{className:"w-5 h-5"}),"Notifications"]}),e.jsx("button",{onClick:()=>j(!1),className:`p-1 rounded-lg transition-colors ${r?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:e.jsx(X,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-2",children:b.length>0?b.map((t,l)=>e.jsx("div",{className:`p-4 mb-2 rounded-lg border transition-all duration-200 hover:shadow-md ${t.type==="error"?r?"bg-red-900/20 border-red-700/50 hover:bg-red-900/30":"bg-red-50 border-red-200 hover:bg-red-100":t.type==="warning"?r?"bg-yellow-900/20 border-yellow-700/50 hover:bg-yellow-900/30":"bg-yellow-50 border-yellow-200 hover:bg-yellow-100":r?"bg-blue-900/20 border-blue-700/50 hover:bg-blue-900/30":"bg-blue-50 border-blue-200 hover:bg-blue-100"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t.type==="error"?"bg-red-600":t.type==="warning"?"bg-yellow-600":"bg-blue-600"}`,children:e.jsx(B,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm font-medium mb-1 ${t.type==="error"?r?"text-red-400":"text-red-700":t.type==="warning"?r?"text-yellow-400":"text-yellow-700":r?"text-blue-400":"text-blue-700"}`,children:t.title}),e.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:t.message})]})]})},l)):e.jsxs("div",{className:`p-8 text-center ${r?"text-gray-500":"text-gray-400"}`,children:[e.jsx(K,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No notifications"}),e.jsx("p",{className:"text-sm mt-1",children:"You're all caught up!"})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:`group p-6 rounded-2xl border backdrop-blur-sm transition-all duration-300 hover:scale-105 hover:-translate-y-1 ${r?"bg-gradient-to-br from-gray-800/90 to-gray-800/50 border-gray-700/50 hover:border-blue-500/50 shadow-lg hover:shadow-blue-500/20":"bg-white/90 border-gray-200 hover:border-blue-400/50 shadow-lg hover:shadow-xl hover:shadow-blue-500/10"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ${r?"bg-gradient-to-br from-blue-600 to-blue-400 shadow-lg shadow-blue-500/30":"bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg shadow-blue-500/30"}`,children:e.jsx(q,{className:"w-6 h-6 text-white"})}),e.jsxs("span",{className:"text-green-500 text-sm font-medium px-3 py-1 rounded-full bg-green-500/10 border border-green-500/20",children:[N," active"]})]}),e.jsx("div",{className:`text-4xl mb-1 font-bold ${r?"text-gray-100":"text-gray-900"}`,children:s.length}),e.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Total Projects"}),e.jsx("div",{className:"mt-3 h-1 w-full bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full transition-all duration-500",style:{width:`${N/s.length*100||0}%`}})})]}),e.jsxs("div",{className:`group p-6 rounded-2xl border backdrop-blur-sm transition-all duration-300 hover:scale-105 hover:-translate-y-1 ${r?"bg-gradient-to-br from-gray-800/90 to-gray-800/50 border-gray-700/50 hover:border-green-500/50 shadow-lg hover:shadow-green-500/20":"bg-white/90 border-gray-200 hover:border-green-400/50 shadow-lg hover:shadow-xl hover:shadow-green-500/10"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ${r?"bg-gradient-to-br from-green-600 to-emerald-500 shadow-lg shadow-green-500/30":"bg-gradient-to-br from-green-500 to-emerald-600 shadow-lg shadow-green-500/30"}`,children:e.jsx(K,{className:"w-6 h-6 text-white"})}),S>0&&e.jsxs("span",{className:"text-red-500 text-sm font-medium flex items-center gap-1 px-3 py-1 rounded-full bg-red-500/10 border border-red-500/20 animate-pulse",children:[e.jsx(B,{className:"w-4 h-4"}),S," overdue"]})]}),e.jsx("div",{className:`text-4xl mb-1 font-bold ${r?"text-gray-100":"text-gray-900"}`,children:$}),e.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Active Tasks"}),e.jsx("div",{className:"mt-3 h-1 w-full bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full transition-all duration-500",style:{width:`${$/o.length*100||0}%`}})})]}),e.jsxs("div",{className:`group p-6 rounded-2xl border backdrop-blur-sm transition-all duration-300 hover:scale-105 hover:-translate-y-1 ${r?"bg-gradient-to-br from-gray-800/90 to-gray-800/50 border-gray-700/50 hover:border-purple-500/50 shadow-lg hover:shadow-purple-500/20":"bg-white/90 border-gray-200 hover:border-purple-400/50 shadow-lg hover:shadow-xl hover:shadow-purple-500/10"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ${r?"bg-gradient-to-br from-purple-600 to-fuchsia-500 shadow-lg shadow-purple-500/30":"bg-gradient-to-br from-purple-500 to-fuchsia-600 shadow-lg shadow-purple-500/30"}`,children:e.jsx(U,{className:"w-6 h-6 text-white"})}),e.jsxs("span",{className:"text-orange-500 text-sm font-medium px-3 py-1 rounded-full bg-orange-500/10 border border-orange-500/20",children:[C," pending"]})]}),e.jsx("div",{className:`text-4xl mb-1 font-bold ${r?"text-gray-100":"text-gray-900"}`,children:c.length}),e.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Procurement Items"}),e.jsx("div",{className:"mt-3 h-1 w-full bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-fuchsia-500 rounded-full transition-all duration-500",style:{width:`${(c.length-C)/c.length*100||0}%`}})})]}),e.jsxs("div",{className:`group p-6 rounded-2xl border backdrop-blur-sm transition-all duration-300 hover:scale-105 hover:-translate-y-1 ${r?"bg-gradient-to-br from-gray-800/90 to-gray-800/50 border-gray-700/50 hover:border-orange-500/50 shadow-lg hover:shadow-orange-500/20":"bg-white/90 border-gray-200 hover:border-orange-400/50 shadow-lg hover:shadow-xl hover:shadow-orange-500/10"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ${r?"bg-gradient-to-br from-orange-600 to-amber-500 shadow-lg shadow-orange-500/30":"bg-gradient-to-br from-orange-500 to-amber-600 shadow-lg shadow-orange-500/30"}`,children:e.jsx(V,{className:"w-6 h-6 text-white"})}),e.jsxs("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${i/n>.8?"text-red-500 bg-red-500/10 border border-red-500/20":"text-gray-500 bg-gray-500/10 border border-gray-500/20"}`,children:[(i/n*100).toFixed(0),"% used"]})]}),e.jsxs("div",{className:`text-4xl mb-1 font-bold ${r?"text-gray-100":"text-gray-900"}`,children:["AED ",(n/1e3).toFixed(0),"k"]}),e.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Total Budget"}),e.jsx("div",{className:"mt-3 h-1 w-full bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${i/n>.8?"bg-gradient-to-r from-red-500 to-orange-500":"bg-gradient-to-r from-orange-500 to-amber-500"}`,style:{width:`${i/n*100||0}%`}})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.length>0&&e.jsxs("div",{className:`p-6 rounded-2xl border backdrop-blur-sm transition-all duration-300 hover:shadow-2xl ${r?"bg-gradient-to-br from-gray-800/90 to-gray-800/50 border-gray-700/50":"bg-white/90 border-gray-200 shadow-lg"}`,children:[e.jsx("h2",{className:`mb-6 ${r?"text-gray-100":"text-gray-900"}`,children:"Project Status Distribution"}),e.jsx(f,{width:"100%",height:300,children:e.jsxs(F,{children:[e.jsx(L,{data:m,cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:l})=>`${t} ${(l*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:m.map((t,l)=>e.jsx(R,{fill:t.color},`cell-${l}`))}),e.jsx(v,{contentStyle:{backgroundColor:r?"#1f2937":"#ffffff",border:`1px solid ${r?"#374151":"#e5e7eb"}`,borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}})]})})]}),P.length>0&&e.jsxs("div",{className:`p-6 rounded-2xl border backdrop-blur-sm transition-all duration-300 hover:shadow-2xl ${r?"bg-gradient-to-br from-gray-800/90 to-gray-800/50 border-gray-700/50":"bg-white/90 border-gray-200 shadow-lg"}`,children:[e.jsx("h2",{className:`mb-6 ${r?"text-gray-100":"text-gray-900"}`,children:"Budget Overview by Project"}),e.jsx(f,{width:"100%",height:300,children:e.jsxs(Y,{data:P,children:[e.jsx(G,{strokeDasharray:"3 3",stroke:r?"#374151":"#e5e7eb"}),e.jsx(Q,{dataKey:"name",tick:{fill:r?"#9ca3af":"#6b7280",fontSize:12}}),e.jsx(I,{tick:{fill:r?"#9ca3af":"#6b7280"}}),e.jsx(v,{contentStyle:{backgroundColor:r?"#1f2937":"#ffffff",border:`1px solid ${r?"#374151":"#e5e7eb"}`,borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),e.jsx(J,{}),e.jsx(E,{dataKey:"budget",fill:"#3b82f6",radius:[8,8,0,0]}),e.jsx(E,{dataKey:"spent",fill:"#10b981",radius:[8,8,0,0]})]})})]}),u.length>0&&e.jsxs("div",{className:`p-6 rounded-2xl border backdrop-blur-sm transition-all duration-300 hover:shadow-2xl ${r?"bg-gradient-to-br from-gray-800/90 to-gray-800/50 border-gray-700/50":"bg-white/90 border-gray-200 shadow-lg"}`,children:[e.jsx("h2",{className:`mb-6 ${r?"text-gray-100":"text-gray-900"}`,children:"Task Priority Distribution"}),e.jsx(f,{width:"100%",height:300,children:e.jsxs(F,{children:[e.jsx(L,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:l})=>`${t} ${(l*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:u.map((t,l)=>e.jsx(R,{fill:t.color},`cell-${l}`))}),e.jsx(v,{contentStyle:{backgroundColor:r?"#1f2937":"#ffffff",border:`1px solid ${r?"#374151":"#e5e7eb"}`,borderRadius:"0.75rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}})]})})]}),e.jsxs("div",{className:`p-6 rounded-2xl border backdrop-blur-sm transition-all duration-300 hover:shadow-2xl ${r?"bg-gradient-to-br from-gray-800/90 to-gray-800/50 border-gray-700/50":"bg-white/90 border-gray-200 shadow-lg"}`,children:[e.jsx("h2",{className:`mb-6 ${r?"text-gray-100":"text-gray-900"}`,children:"Quick Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`p-4 rounded-xl ${r?"bg-gray-700/50":"bg-gray-50"} transition-all hover:scale-105`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:r?"text-gray-300":"text-gray-700",children:"Completed Projects"}),e.jsx("span",{className:`text-2xl font-bold ${r?"text-green-400":"text-green-600"}`,children:H})]})}),e.jsx("div",{className:`p-4 rounded-xl ${r?"bg-gray-700/50":"bg-gray-50"} transition-all hover:scale-105`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:r?"text-gray-300":"text-gray-700",children:"Total Savings"}),e.jsxs("span",{className:`text-2xl font-bold ${r?"text-blue-400":"text-blue-600"}`,children:["AED ",((n-i)/1e3).toFixed(0),"k"]})]})}),e.jsx("div",{className:`p-4 rounded-xl ${r?"bg-gray-700/50":"bg-gray-50"} transition-all hover:scale-105`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:r?"text-gray-300":"text-gray-700",children:"Completed Tasks"}),e.jsx("span",{className:`text-2xl font-bold ${r?"text-purple-400":"text-purple-600"}`,children:o.filter(t=>t.status==="completed").length})]})})]})]})]})]})}export{se as Dashboard};
