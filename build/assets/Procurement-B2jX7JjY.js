import{r as c,j as e,T as q,C as D}from"./index-DKFEh9ub.js";import{r as we,u as $e}from"./xlsx-DSqvgYLF.js";import{t as m}from"./index-vYzfCZWO.js";import{P as k,a as M}from"./plus-Dx-m4g97.js";import{U as Se,B as Ce}from"./upload-CNwKlL9I.js";import{S as Re}from"./search-CWjXLGou.js";import{F as Pe}from"./funnel-C2Ksk9OF.js";import{C as w}from"./clock-CY5c905-.js";import{X as B}from"./x-BGBquCnM.js";import{T as ee}from"./trash-2-Cec5oUEd.js";function Le({procurementItems:x,setProcurementItems:f,projects:j,setProjects:v,isDarkMode:r}){const[b,L]=c.useState("planned"),[p,te]=c.useState(""),[re,E]=c.useState(!1),[ae,Y]=c.useState(!1),[le,I]=c.useState(!1),[$,H]=c.useState(null),[S,z]=c.useState(null),[C,G]=c.useState("all"),[R,Q]=c.useState("all"),[P,W]=c.useState("all"),[ne,_]=c.useState([]),[U,X]=c.useState([]),[d,Z]=c.useState({item:"",sector:"",department:"",itemDescription:"",category:"",awardedBefore:"",allocatedBudget:"",requestedPreviously:"",prequalificationRecommended:"",recommendedVendors:"",additionalInformation:"",recommendedPRDate:"",itemReference:""}),[n,i]=c.useState({item:"",sector:"",department:"",itemDescription:"",category:"",awardedBefore:"",allocatedBudget:"",requestedPreviously:"",prequalificationRecommended:"",recommendedVendors:"",additionalInformation:"",recommendedPRDate:"",itemReference:"",isSubmitted:!1,status:"pending"}),[l,u]=c.useState({name:"",description:"",sector:"",department:"",budget:"",prNumber:"",negotiationNumber:"",startDate:"",endDate:"",expectedSubmissionDate:""}),se=["Hardware","Software","Equipment","Services","Supplies","Consulting","Other"],oe=j.filter(t=>!x.some(a=>a.projectId===t.id)&&t.status!=="completed"),de=t=>{const a=t.target.files?.[0];if(!a)return;const o=new FileReader;o.onload=s=>{const g=s.target?.result,h=we(g,{type:"binary",cellDates:!0}),y=h.SheetNames[0],Ne=h.Sheets[y],O=$e.sheet_to_json(Ne,{raw:!1,dateNF:"dd-mm-yyyy"});if(O.length>0){const ve=Object.keys(O[0]);X(ve),_(O)}},o.readAsBinaryString(a)},ie=t=>{if(!t)return"";if(typeof t=="string"){if(/^\d{2}-\d{2}-\d{4}$/.test(t))return t;if(t.includes("/")||t.includes("-"))try{const a=new Date(t);if(!isNaN(a.getTime())){const o=String(a.getDate()).padStart(2,"0"),s=String(a.getMonth()+1).padStart(2,"0"),g=a.getFullYear();return`${o}-${s}-${g}`}}catch{return t}return t}if(typeof t=="number"){const a=new Date(1900,0,1),o=new Date(a.getTime()+(t-2)*24*60*60*1e3),s=String(o.getDate()).padStart(2,"0"),g=String(o.getMonth()+1).padStart(2,"0"),h=o.getFullYear();return`${s}-${g}-${h}`}if(t instanceof Date){const a=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear();return`${a}-${o}-${s}`}return String(t)},ce=()=>{const a=["item","sector","department","itemDescription","category","awardedBefore","allocatedBudget","recommendedPRDate","itemReference"].filter(s=>!d[s]);if(a.length>0){m.error(`Please map all required fields. Missing: ${a.join(", ")}`);return}const o=ne.map((s,g)=>({id:`import-${Date.now()}-${g}`,item:s[d.item]||"",sector:s[d.sector]||"",department:s[d.department]||"",itemDescription:s[d.itemDescription]||"",category:s[d.category]||"",awardedBefore:s[d.awardedBefore]||"",allocatedBudget:parseFloat(s[d.allocatedBudget])||0,requestedPreviously:s[d.requestedPreviously]||"",prequalificationRecommended:s[d.prequalificationRecommended]||"",recommendedVendors:s[d.recommendedVendors]||"",additionalInformation:s[d.additionalInformation]||"",recommendedPRDate:ie(s[d.recommendedPRDate]),itemReference:s[d.itemReference]||"",isSubmitted:!1,status:"pending"}));f([...x,...o]),A(),m.success(`Successfully imported ${o.length} items`)},A=()=>{Y(!1),_([]),X([]),Z({item:"",sector:"",department:"",itemDescription:"",category:"",awardedBefore:"",allocatedBudget:"",requestedPreviously:"",prequalificationRecommended:"",recommendedVendors:"",additionalInformation:"",recommendedPRDate:"",itemReference:""})},ge=t=>{if(t.preventDefault(),$)f(x.map(a=>a.id===$.id?{...a,...n,allocatedBudget:parseFloat(n.allocatedBudget)}:a)),m.success("Procurement item updated successfully");else{const a={id:Date.now().toString(),...n,allocatedBudget:parseFloat(n.allocatedBudget)};f([...x,a]),m.success("Procurement item added successfully")}F()},ue=t=>{if(t.preventDefault(),S)v(j.map(a=>a.id===S.id?{...a,name:l.name,description:l.description,sector:l.sector,department:l.department,budget:parseFloat(l.budget),prNumber:l.prNumber,negotiationNumber:l.negotiationNumber,startDate:l.startDate,endDate:l.endDate,expectedSubmissionDate:l.expectedSubmissionDate}:a)),m.success("Unplanned project updated successfully");else{const a={id:Date.now().toString(),name:l.name,description:l.description,status:"planning",startDate:l.startDate,endDate:l.endDate,progress:0,budget:parseFloat(l.budget),spent:0,prNumber:l.prNumber,negotiationNumber:l.negotiationNumber,workLogs:[],isWorkInProgress:!1,sector:l.sector,department:l.department,expectedSubmissionDate:l.expectedSubmissionDate,isSubmitted:!1};v([...j,a]),m.success("Unplanned project created and added to Projects & Tasks")}V()},F=()=>{i({item:"",sector:"",department:"",itemDescription:"",category:"",awardedBefore:"",allocatedBudget:"",requestedPreviously:"",prequalificationRecommended:"",recommendedVendors:"",additionalInformation:"",recommendedPRDate:"",itemReference:"",isSubmitted:!1,status:"pending"}),H(null),E(!1)},V=()=>{u({name:"",description:"",sector:"",department:"",budget:"",prNumber:"",negotiationNumber:"",startDate:"",endDate:"",expectedSubmissionDate:""}),z(null),I(!1)},xe=t=>{H(t),i({item:t.item,sector:t.sector,department:t.department,itemDescription:t.itemDescription,category:t.category,awardedBefore:t.awardedBefore,allocatedBudget:t.allocatedBudget.toString(),requestedPreviously:t.requestedPreviously,prequalificationRecommended:t.prequalificationRecommended,recommendedVendors:t.recommendedVendors,additionalInformation:t.additionalInformation,recommendedPRDate:t.recommendedPRDate,itemReference:t.itemReference,isSubmitted:t.isSubmitted,status:t.status||"pending"}),E(!0)},me=t=>{z(t),u({name:t.name,description:t.description,sector:t.sector,department:t.department,budget:t.budget.toString(),prNumber:t.prNumber,negotiationNumber:t.negotiationNumber,startDate:t.startDate,endDate:t.endDate,expectedSubmissionDate:t.expectedSubmissionDate}),I(!0)},ye=t=>{confirm("Are you sure you want to delete this procurement item?")&&(f(x.filter(a=>a.id!==t)),m.success("Procurement item deleted"))},be=t=>{confirm("Are you sure you want to delete this unplanned project?")&&(v(j.filter(a=>a.id!==t)),m.success("Unplanned project deleted"))},pe=t=>{const a=new Date().toISOString().split("T")[0],o=Date.now().toString(),s={id:o,name:`${t.item} - ${t.itemDescription}`,description:`Procurement Item: ${t.itemDescription}
Category: ${t.category}
Vendors: ${t.recommendedVendors}
Additional Info: ${t.additionalInformation}`,status:"planning",startDate:a,endDate:t.recommendedPRDate,progress:0,budget:t.allocatedBudget,spent:0,prNumber:t.itemReference,negotiationNumber:"",workLogs:[],isWorkInProgress:!1,sector:t.sector,department:t.department,expectedSubmissionDate:t.recommendedPRDate,isSubmitted:!0,submittedDate:a};f(x.map(g=>g.id===t.id?{...g,isSubmitted:!0,submittedDate:a,projectId:o,status:"assigned"}:g)),v([...j,s]),m.success("Item marked as submitted and project created")},he=t=>{confirm(`This will mark the item as "Not Submitted" and delete the associated project.

Item: ${t.item}
Description: ${t.itemDescription}`)&&(t.projectId&&v(j.filter(a=>a.id!==t.projectId)),f(x.map(a=>a.id===t.id?{...a,isSubmitted:!1,submittedDate:void 0,projectId:void 0,status:"pending"}:a)),m.success("Item reverted to not submitted"))},T=x.filter(t=>{if(C==="submitted"&&!t.isSubmitted||C==="not-submitted"&&t.isSubmitted||R!=="all"&&t.category!==R||P!=="all"&&t.sector!==P)return!1;if(p){const a=p.toLowerCase();return t.itemDescription.toLowerCase().includes(a)||t.itemReference.toLowerCase().includes(a)||t.item.toLowerCase().includes(a)}return!0}),J=oe.filter(t=>{if(p){const a=p.toLowerCase();return t.name.toLowerCase().includes(a)||t.description.toLowerCase().includes(a)||t.prNumber.toLowerCase().includes(a)}return!0}),K=t=>{if(!t||typeof t!="string")return{color:r?"text-gray-400 bg-gray-800/30 border-gray-700":"text-gray-700 bg-gray-50 border-gray-200",icon:w,label:"",days:0};const a=new Date;a.setHours(0,0,0,0);const[o,s,g]=t.split("-").map(Number),h=new Date(g,s-1,o);h.setHours(0,0,0,0);const y=Math.ceil((h.getTime()-a.getTime())/(1e3*60*60*24));return y<0?{color:r?"text-red-400 bg-red-900/30 border-red-700":"text-red-600 bg-red-50 border-red-200",icon:q,label:"OVERDUE",days:Math.abs(y)}:y<=7?{color:r?"text-orange-400 bg-orange-900/30 border-orange-700":"text-orange-600 bg-orange-50 border-orange-200",icon:q,label:"URGENT",days:y}:y<=14?{color:r?"text-yellow-400 bg-yellow-900/30 border-yellow-700":"text-yellow-600 bg-yellow-50 border-yellow-200",icon:w,label:"SOON",days:y}:{color:r?"text-gray-400 bg-gray-800/30 border-gray-700":"text-gray-700 bg-gray-50 border-gray-200",icon:w,label:"",days:y}},fe=T.reduce((t,a)=>t+a.allocatedBudget,0),je=Array.from(new Set(x.map(t=>t.category).filter(Boolean))),N=x.reduce((t,a)=>{if(!a.isSubmitted&&a.recommendedPRDate){const o=K(a.recommendedPRDate);o.label==="OVERDUE"?t.overdue++:o.label==="URGENT"?t.urgent++:o.label==="SOON"&&t.soon++}return t},{overdue:0,urgent:0,soon:0});return e.jsxs("div",{className:`min-h-screen p-8 ${r?"bg-gray-900":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-transparent bg-clip-text bg-gradient-to-r mb-2 ${r?"from-blue-400 to-cyan-400":"from-blue-600 to-cyan-600"}`,children:"Procurement Management"}),e.jsx("p",{className:r?"text-gray-400":"text-gray-600",children:"Manage procurement plan items and unplanned projects"})]}),e.jsx("div",{className:"flex gap-2",children:b==="planned"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-lg hover:from-blue-700 hover:to-blue-600 transition-all duration-200 shadow-lg shadow-blue-500/30",children:[e.jsx(k,{className:"w-5 h-5"}),"New Item"]}),e.jsxs("button",{onClick:()=>Y(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-lg hover:from-green-700 hover:to-green-600 transition-all duration-200 shadow-lg shadow-green-500/30",children:[e.jsx(Se,{className:"w-5 h-5"}),"Import from Excel"]})]}):e.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-500 text-white rounded-lg hover:from-purple-700 hover:to-purple-600 transition-all duration-200 shadow-lg shadow-purple-500/30",children:[e.jsx(k,{className:"w-5 h-5"}),"New Unplanned Project"]})})]}),e.jsxs("div",{className:`flex gap-2 mb-6 border-b ${r?"border-gray-700":"border-gray-200"}`,children:[e.jsxs("button",{onClick:()=>L("planned"),className:`px-6 py-3 font-medium transition-all duration-200 relative ${b==="planned"?r?"text-blue-400":"text-blue-600":r?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-900"}`,children:["Procurement Plan",b==="planned"&&e.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-0.5 ${r?"bg-blue-400":"bg-blue-600"}`})]}),e.jsxs("button",{onClick:()=>L("unplanned"),className:`px-6 py-3 font-medium transition-all duration-200 relative ${b==="unplanned"?r?"text-purple-400":"text-purple-600":r?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-900"}`,children:["Unplanned Projects",b==="unplanned"&&e.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-0.5 ${r?"bg-purple-400":"bg-purple-600"}`})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(Re,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 ${r?"text-gray-500":"text-gray-400"}`}),e.jsx("input",{type:"text",value:p,onChange:t=>te(t.target.value),placeholder:b==="planned"?"Search by description or reference...":"Search by name, description, or PR number...",className:`w-full pl-10 pr-4 py-3 rounded-lg transition-all duration-200 ${r?"bg-gray-800 border-gray-700 text-gray-200 placeholder-gray-500 focus:bg-gray-750 focus:border-blue-500":"bg-white border-gray-300 focus:border-blue-500"} border focus:outline-none focus:ring-2 focus:ring-blue-500/20`})]})}),b==="planned"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`p-4 rounded-lg border mb-6 transition-all duration-200 ${r?"bg-gradient-to-br from-gray-800 to-gray-850 border-gray-700/50":"bg-white border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:`w-5 h-5 ${r?"text-gray-400":"text-gray-600"}`}),e.jsx("span",{className:r?"text-gray-300":"text-gray-700",children:"Filters:"})]}),e.jsxs("select",{value:C,onChange:t=>G(t.target.value),className:`px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 ${r?"bg-gray-700 border-gray-600 text-gray-200":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"not-submitted",children:"Not Submitted"}),e.jsx("option",{value:"submitted",children:"Submitted"})]}),e.jsxs("select",{value:R,onChange:t=>Q(t.target.value),className:`px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 ${r?"bg-gray-700 border-gray-600 text-gray-200":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"all",children:"All Categories"}),je.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("select",{value:P,onChange:t=>W(t.target.value),className:`px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 ${r?"bg-gray-700 border-gray-600 text-gray-200":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"all",children:"All Sectors"}),Array.from(new Set(x.map(t=>t.sector).filter(Boolean))).map(t=>e.jsx("option",{value:t,children:t},t))]}),(C!=="all"||R!=="all"||P!=="all")&&e.jsx("button",{onClick:()=>{G("all"),Q("all"),W("all")},className:`text-sm transition-colors ${r?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:"Clear filters"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[N.overdue>0&&e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg ${r?"bg-red-900/30 text-red-400":"bg-red-100 text-red-700"}`,children:[e.jsx(q,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-semibold",children:[N.overdue," Overdue"]})]}),N.urgent>0&&e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg ${r?"bg-orange-900/30 text-orange-400":"bg-orange-100 text-orange-700"}`,children:[e.jsx(q,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-semibold",children:[N.urgent," Urgent"]})]}),N.soon>0&&e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-lg ${r?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-700"}`,children:[e.jsx(w,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-semibold",children:[N.soon," Due Soon"]})]}),e.jsxs("div",{className:r?"text-gray-200":"text-gray-900",children:["Total Budget: ",e.jsxs("span",{className:r?"text-blue-400":"text-blue-600",children:["AED ",fe.toLocaleString()]})]})]})]})}),e.jsxs("div",{className:`rounded-lg border overflow-hidden transition-all duration-200 ${r?"bg-gradient-to-br from-gray-800 to-gray-850 border-gray-700/50":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`border-b ${r?"bg-gray-800/50 border-gray-700":"bg-gray-50 border-gray-200"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Item #"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Description"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Sector/Department"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Category"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Budget (AED)"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300 bg-blue-900/20":"text-gray-700 bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:`w-4 h-4 ${r?"text-blue-400":"text-blue-600"}`}),e.jsx("span",{children:"PR Submit Date"})]})}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Item Reference"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Status"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Actions"})]})}),e.jsx("tbody",{className:`divide-y ${r?"divide-gray-700":"divide-gray-200"}`,children:T.map(t=>e.jsxs("tr",{className:`transition-colors ${r?"hover:bg-gray-700/30":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:r?"text-gray-200":"text-gray-900",children:t.item})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:`line-clamp-2 ${r?"text-gray-200":"text-gray-900"}`,children:t.itemDescription})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:r?"text-gray-200":"text-gray-900",children:t.sector}),e.jsx("div",{className:`text-sm ${r?"text-gray-500":"text-gray-600"}`,children:t.department})]}),e.jsx("td",{className:`px-6 py-4 ${r?"text-gray-200":"text-gray-900"}`,children:t.category}),e.jsx("td",{className:`px-6 py-4 ${r?"text-gray-200":"text-gray-900"}`,children:t.allocatedBudget.toLocaleString()}),e.jsx("td",{className:`px-6 py-4 ${r?"bg-blue-900/10":"bg-blue-50"}`,children:(()=>{const a=K(t.recommendedPRDate),o=a.icon;return e.jsxs("div",{className:`inline-flex flex-col gap-1 px-3 py-2 rounded-lg border-2 ${a.color}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:t.recommendedPRDate})]}),a.label&&e.jsxs("div",{className:"text-xs flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold",children:a.label}),e.jsxs("span",{children:["(",a.days," ",a.label==="OVERDUE"?"days overdue":"days left",")"]})]}),!a.label&&a.days>0&&e.jsxs("div",{className:"text-xs",children:[a.days," days left"]})]})})()}),e.jsx("td",{className:`px-6 py-4 ${r?"text-gray-200":"text-gray-900"}`,children:t.itemReference}),e.jsx("td",{className:"px-6 py-4",children:t.isSubmitted?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm inline-flex items-center gap-1 w-fit ${r?"bg-green-900/30 text-green-400":"bg-green-100 text-green-700"}`,children:[e.jsx(D,{className:"w-4 h-4"}),"Submitted"]}),t.submittedDate&&e.jsx("span",{className:`text-xs ${r?"text-gray-500":"text-gray-600"}`,children:t.submittedDate})]}):e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${r?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-700"}`,children:"Not Submitted"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[t.isSubmitted?e.jsxs("button",{onClick:()=>he(t),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gradient-to-r from-yellow-600 to-yellow-500 text-white rounded-lg hover:from-yellow-700 hover:to-yellow-600 transition-all duration-200 shadow-md",title:"Revert to Not Submitted (will delete project)",children:[e.jsx(B,{className:"w-4 h-4"}),"Revert"]}):e.jsxs("button",{onClick:()=>pe(t),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gradient-to-r from-green-600 to-green-500 text-white rounded-lg hover:from-green-700 hover:to-green-600 transition-all duration-200 shadow-md",title:"Mark as Submitted and Create Project",children:[e.jsx(D,{className:"w-4 h-4"}),"Mark Submitted"]}),e.jsx("button",{onClick:()=>xe(t),className:`p-2 rounded-lg transition-colors ${r?"text-gray-400 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ye(t.id),className:`p-2 rounded-lg transition-colors ${r?"text-red-400 hover:bg-red-900/30":"text-red-600 hover:bg-red-50"}`,children:e.jsx(ee,{className:"w-4 h-4"})})]})})]},t.id))})]})}),T.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:r?"text-gray-500":"text-gray-600",children:p?"No procurement items found matching your search.":"No procurement items found matching the current filters."})})]})]}),b==="unplanned"&&e.jsxs("div",{className:`rounded-lg border overflow-hidden transition-all duration-200 ${r?"bg-gradient-to-br from-gray-800 to-gray-850 border-gray-700/50":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:`border-b ${r?"bg-gray-800/50 border-gray-700":"bg-gray-50 border-gray-200"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Project Name"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Description"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Sector/Department"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Budget (AED)"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"PR Number"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Status"}),e.jsx("th",{className:`px-6 py-3 text-left ${r?"text-gray-300":"text-gray-700"}`,children:"Actions"})]})}),e.jsx("tbody",{className:`divide-y ${r?"divide-gray-700":"divide-gray-200"}`,children:J.map(t=>e.jsxs("tr",{className:`transition-colors ${r?"hover:bg-gray-700/30":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:r?"text-gray-200":"text-gray-900",children:t.name})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:`line-clamp-2 ${r?"text-gray-200":"text-gray-900"}`,children:t.description})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:r?"text-gray-200":"text-gray-900",children:t.sector}),e.jsx("div",{className:`text-sm ${r?"text-gray-500":"text-gray-600"}`,children:t.department})]}),e.jsx("td",{className:`px-6 py-4 ${r?"text-gray-200":"text-gray-900"}`,children:t.budget.toLocaleString()}),e.jsx("td",{className:`px-6 py-4 ${r?"text-gray-200":"text-gray-900"}`,children:t.prNumber||"-"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${t.status==="planning"?r?"bg-blue-900/30 text-blue-400":"bg-blue-100 text-blue-700":t.status==="in-progress"?r?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-700":t.status==="on-hold"?r?"bg-orange-900/30 text-orange-400":"bg-orange-100 text-orange-700":r?"bg-green-900/30 text-green-400":"bg-green-100 text-green-700"}`,children:t.status==="in-progress"?"In Progress":t.status==="on-hold"?"On Hold":t.status.charAt(0).toUpperCase()+t.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("button",{onClick:()=>me(t),className:`p-2 rounded-lg transition-colors ${r?"text-gray-400 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>be(t.id),className:`p-2 rounded-lg transition-colors ${r?"text-red-400 hover:bg-red-900/30":"text-red-600 hover:bg-red-50"}`,children:e.jsx(ee,{className:"w-4 h-4"})})]})})]},t.id))})]})}),J.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ce,{className:`w-16 h-16 mx-auto mb-4 ${r?"text-gray-600":"text-gray-400"}`}),e.jsx("p",{className:r?"text-gray-500":"text-gray-600",children:p?"No unplanned projects found matching your search.":"No unplanned projects yet. Create one to get started."})]})]}),re&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:`rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto ${r?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${r?"border-gray-700":"border-gray-200"}`,children:[e.jsx("h2",{className:r?"text-gray-200":"text-gray-900",children:$?"Edit Procurement Item":"New Procurement Item"}),e.jsx("button",{onClick:F,className:`p-2 rounded-lg transition-colors ${r?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:e.jsx(B,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:ge,className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Item Number *"}),e.jsx("input",{type:"text",required:!0,value:n.item,onChange:t=>i({...n,item:t.target.value}),placeholder:"e.g., 001, 002, 003",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Sector *"}),e.jsx("input",{type:"text",required:!0,value:n.sector,onChange:t=>i({...n,sector:t.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Department *"}),e.jsx("input",{type:"text",required:!0,value:n.department,onChange:t=>i({...n,department:t.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Item Description *"}),e.jsx("textarea",{required:!0,value:n.itemDescription,onChange:t=>i({...n,itemDescription:t.target.value}),rows:2,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Category *"}),e.jsxs("select",{required:!0,value:n.category,onChange:t=>i({...n,category:t.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select category"}),se.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Awarded Before (DD-MM-2026) *"}),e.jsx("input",{type:"text",required:!0,value:n.awardedBefore,onChange:t=>i({...n,awardedBefore:t.target.value}),placeholder:"15-04-2026",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Allocated Budget (AED - Excl. VAT) *"}),e.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:n.allocatedBudget,onChange:t=>i({...n,allocatedBudget:t.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Requested Previously"}),e.jsxs("select",{value:n.requestedPreviously,onChange:t=>i({...n,requestedPreviously:t.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Prequalification Recommended"}),e.jsxs("select",{value:n.prequalificationRecommended,onChange:t=>i({...n,prequalificationRecommended:t.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Recommended Vendor/s"}),e.jsx("input",{type:"text",value:n.recommendedVendors,onChange:t=>i({...n,recommendedVendors:t.target.value}),placeholder:"Enter vendor names separated by commas",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Additional Information"}),e.jsx("textarea",{value:n.additionalInformation,onChange:t=>i({...n,additionalInformation:t.target.value}),rows:3,placeholder:"Information related to specifications, quantity, existing contracts, constraints, supply risks etc.",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Recommended PR Date (PR to PO) *"}),e.jsx("input",{type:"text",required:!0,value:n.recommendedPRDate,onChange:t=>i({...n,recommendedPRDate:t.target.value}),placeholder:"01-03-2026",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Item Reference *"}),e.jsx("input",{type:"text",required:!0,value:n.itemReference,onChange:t=>i({...n,itemReference:t.target.value}),placeholder:"Use this Reference when raising PR",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-lg hover:from-blue-700 hover:to-blue-600 transition-all duration-200",children:$?"Update Item":"Create Item"}),e.jsx("button",{type:"button",onClick:F,className:`px-4 py-2 border rounded-lg transition-colors ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]})]})}),le&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:`rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto ${r?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${r?"border-gray-700":"border-gray-200"}`,children:[e.jsx("h2",{className:r?"text-gray-200":"text-gray-900",children:S?"Edit Unplanned Project":"New Unplanned Project"}),e.jsx("button",{onClick:V,className:`p-2 rounded-lg transition-colors ${r?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:e.jsx(B,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:ue,className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Project Name *"}),e.jsx("input",{type:"text",required:!0,value:l.name,onChange:t=>u({...l,name:t.target.value}),placeholder:"Enter project name",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Description *"}),e.jsx("textarea",{required:!0,value:l.description,onChange:t=>u({...l,description:t.target.value}),rows:3,placeholder:"Enter project description",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Sector *"}),e.jsx("input",{type:"text",required:!0,value:l.sector,onChange:t=>u({...l,sector:t.target.value}),placeholder:"Enter sector",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Department *"}),e.jsx("input",{type:"text",required:!0,value:l.department,onChange:t=>u({...l,department:t.target.value}),placeholder:"Enter department",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Budget (AED) *"}),e.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:l.budget,onChange:t=>u({...l,budget:t.target.value}),placeholder:"Enter budget",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"PR Number"}),e.jsx("input",{type:"text",value:l.prNumber,onChange:t=>u({...l,prNumber:t.target.value}),placeholder:"Enter PR number",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Negotiation Number"}),e.jsx("input",{type:"text",value:l.negotiationNumber,onChange:t=>u({...l,negotiationNumber:t.target.value}),placeholder:"Enter negotiation number",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${r?"bg-gray-700 border-gray-600 text-gray-200 placeholder-gray-500":"bg-white border-gray-300"}`})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Start Date *"}),e.jsx("input",{type:"date",required:!0,value:l.startDate,onChange:t=>u({...l,startDate:t.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${r?"bg-gray-700 border-gray-600 text-gray-200":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"End Date *"}),e.jsx("input",{type:"date",required:!0,value:l.endDate,onChange:t=>u({...l,endDate:t.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${r?"bg-gray-700 border-gray-600 text-gray-200":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Expected Submission *"}),e.jsx("input",{type:"date",required:!0,value:l.expectedSubmissionDate,onChange:t=>u({...l,expectedSubmissionDate:t.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${r?"bg-gray-700 border-gray-600 text-gray-200":"bg-white border-gray-300"}`})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-500 text-white rounded-lg hover:from-purple-700 hover:to-purple-600 transition-all duration-200",children:S?"Update Project":"Create Project"}),e.jsx("button",{type:"button",onClick:V,className:`px-4 py-2 border rounded-lg transition-colors ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]})]})}),ae&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:`rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto ${r?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${r?"border-gray-700":"border-gray-200"}`,children:[e.jsx("h2",{className:r?"text-gray-200":"text-gray-900",children:"Import Procurement Plan Items"}),e.jsx("button",{onClick:A,className:`p-2 rounded-lg transition-colors ${r?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:e.jsx(B,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-4 rounded-lg mb-4 ${r?"bg-blue-900/20":"bg-blue-50"}`,children:[e.jsx("h3",{className:`mb-2 ${r?"text-gray-200":"text-gray-900"}`,children:"Expected Excel Columns (in order from Column A):"}),e.jsxs("ol",{className:`text-sm list-decimal list-inside space-y-1 ${r?"text-gray-400":"text-gray-700"}`,children:[e.jsx("li",{children:"Item"}),e.jsx("li",{children:"Sector"}),e.jsx("li",{children:"Department"}),e.jsx("li",{children:"Item Description"}),e.jsx("li",{children:"Category"}),e.jsx("li",{children:"Awarded Before (DD-MM-2026)"}),e.jsx("li",{children:"Allocated Budget OR Estimation (Shall be in AED - Excl. VAT)"}),e.jsx("li",{children:"Requested Previously"}),e.jsx("li",{children:"Prequalification Recommended"}),e.jsx("li",{children:"Recommended Vendor/s"}),e.jsx("li",{children:"Additional Information"}),e.jsx("li",{children:"Recommended PR Date (PR to PO)"}),e.jsx("li",{children:"Item Reference (Use this Reference when raising PR)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Upload Excel File"}),e.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:de,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200":"bg-white border-gray-300"}`})]}),U.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:`mb-4 ${r?"text-gray-200":"text-gray-900"}`,children:"Map Excel Columns to Fields"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 max-h-96 overflow-y-auto p-2",children:Object.keys(d).map(t=>e.jsxs("div",{children:[e.jsxs("label",{className:`block mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:[t.replace(/([A-Z])/g," $1").replace(/^./,a=>a.toUpperCase())," ",["item","sector","department","itemDescription","category","awardedBefore","allocatedBudget","recommendedPRDate","itemReference"].includes(t)&&"*"]}),e.jsxs("select",{value:d[t],onChange:a=>Z({...d,[t]:a.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"bg-gray-700 border-gray-600 text-gray-200":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select column"}),U.map(a=>e.jsx("option",{value:a,children:a},a))]})]},t))}),e.jsx("div",{className:`mt-4 p-3 rounded-lg ${r?"bg-yellow-900/20":"bg-yellow-50"}`,children:e.jsxs("p",{className:`text-sm ${r?"text-gray-400":"text-gray-700"}`,children:[e.jsx("strong",{children:"Note:"}),' All imported items will have status set to "Pending" by default.']})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:ce,disabled:U.length===0,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-lg hover:from-green-700 hover:to-green-600 transition-all duration-200 disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed",children:"Import Items"}),e.jsx("button",{type:"button",onClick:A,className:`px-4 py-2 border rounded-lg transition-colors ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]})]})})]})}export{Le as Procurement};
